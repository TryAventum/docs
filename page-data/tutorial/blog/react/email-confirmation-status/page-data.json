{"componentChunkName":"component---src-templates-doc-js","path":"/tutorial/blog/react/email-confirmation-status/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Email Confirmation Status\",\n  \"date\": \"2020-05-02\",\n  \"order\": 74\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"What You Will Learn Regarding Aventum?\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To resend the confirmation email make a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"POST\"), \" request to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"http://localhost:3030/users/resendConfirmationEmail\"), \" and put the user's token into the request header as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"x-access-token\"), \".\")), mdx(\"hr\", null), mdx(\"p\", null, \"This component will simply check if the user email address is confirmed or not and will allow the user to resend the confirmation email.\"), mdx(\"p\", null, \"Inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components\"), \" folder create \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EmailConfirmationStatus\"), \" folder and inside this one create \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EmailConfirmationStatus.js\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EmailConfirmationStatus.module.css\"), \" files.\"), mdx(\"p\", null, \"Inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EmailConfirmationStatus.module.css\"), \" put:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-css\",\n    \"metastring\": \"title=src/components/EmailConfirmationStatus/EmailConfirmationStatus.module.css\",\n    \"title\": \"src/components/EmailConfirmationStatus/EmailConfirmationStatus.module.css\"\n  }), \".resendLink {\\n  text-decoration: underline;\\n  cursor: pointer;\\n  color: green;\\n}\\n\")), mdx(\"p\", null, \"Inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EmailConfirmationStatus.js\"), \" file first import the required modules:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\",\n    \"metastring\": \"title=src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\",\n    \"title\": \"src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\"\n  }), \"import React, { useState } from \\\"react\\\"\\nimport classes from \\\"./EmailConfirmationStatus.module.css\\\"\\n\")), mdx(\"p\", null, \"Next create our main \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EmailConfirmationStatus\"), \" functtion:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\",\n    \"metastring\": \"highlight=4 title=src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\",\n    \"highlight\": \"4\",\n    \"title\": \"src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\"\n  }), \"import React, { useState } from \\\"react\\\"\\nimport classes from \\\"./EmailConfirmationStatus.module.css\\\"\\n\\nexport default function EmailConfirmationStatus({ user }) {}\\n\")), mdx(\"p\", null, \"Inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EmailConfirmationStatus\"), \" we will have one state:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\",\n    \"metastring\": \"highlight=5 title=src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\",\n    \"highlight\": \"5\",\n    \"title\": \"src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\"\n  }), \"import React, { useState } from \\\"react\\\"\\nimport classes from \\\"./EmailConfirmationStatus.module.css\\\"\\n\\nexport default function EmailConfirmationStatus({ user }) {\\n  const [sending, setSending] = useState(false)\\n}\\n\")), mdx(\"p\", null, \"Next define \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resendConfirmationEmail\"), \" function:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\",\n    \"metastring\": \"highlight=7-24 title=src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\",\n    \"highlight\": \"7-24\",\n    \"title\": \"src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\"\n  }), \"import React, { useState } from \\\"react\\\"\\nimport classes from \\\"./EmailConfirmationStatus.module.css\\\"\\n\\nexport default function EmailConfirmationStatus({ user }) {\\n  const [sending, setSending] = useState(false)\\n\\n  async function resendConfirmationEmail(event) {\\n    event.preventDefault()\\n    setSending(true)\\n    const response = await fetch(\\n      \\\"http://localhost:3030/users/resendConfirmationEmail\\\",\\n      {\\n        method: \\\"POST\\\",\\n        headers: {\\n          \\\"Content-Type\\\": \\\"application/json\\\",\\n          \\\"x-access-token\\\": localStorage.getItem(\\\"x-access-token\\\"),\\n        },\\n      }\\n    )\\n\\n    if (response.status === 200) {\\n      setSending(false)\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resendConfirmationEmail\"), \" function will set first the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sending\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setSending(true)\"), \" then it will make a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"POST\"), \" request to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:3030/users/resendConfirmationEmail\"), \" and will put the user's token \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"x-access-token\"), \" in the request header, on the success we set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sending\"), \" back to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \" using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"setSending(false)\"), \".\"), mdx(\"p\", null, \"Now render our component:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\",\n    \"metastring\": \"highlight=26-42 numbers title=src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\",\n    \"highlight\": \"26-42\",\n    \"numbers\": true,\n    \"title\": \"src/components/EmailConfirmationStatus/EmailConfirmationStatus.js\"\n  }), \"import React, { useState } from \\\"react\\\"\\nimport classes from \\\"./EmailConfirmationStatus.module.css\\\"\\n\\nexport default function EmailConfirmationStatus({ user }) {\\n  const [sending, setSending] = useState(false)\\n\\n  async function resendConfirmationEmail(event) {\\n    event.preventDefault()\\n    setSending(true)\\n    const response = await fetch(\\n      \\\"http://localhost:3030/users/resendConfirmationEmail\\\",\\n      {\\n        method: \\\"POST\\\",\\n        headers: {\\n          \\\"Content-Type\\\": \\\"application/json\\\",\\n          \\\"x-access-token\\\": localStorage.getItem(\\\"x-access-token\\\"),\\n        },\\n      }\\n    )\\n\\n    if (response.status === 200) {\\n      setSending(false)\\n    }\\n  }\\n\\n  return (\\n    <div>\\n      {user && (\\n        <div>\\n          {user.emailConfirmation\\n            ? \\\"Email address confirmed!\\\"\\n            : \\\"Please confirm your email address!\\\"}\\n        </div>\\n      )}\\n      {user && !user.emailConfirmation && !sending && (\\n        <a className={classes.resendLink} onClick={resendConfirmationEmail}>\\n          Resend confirmation email?\\n        </a>\\n      )}\\n      {sending && <div>Sending...</div>}\\n    </div>\\n  )\\n}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#what-you-will-learn-regarding-aventum","title":"What You Will Learn Regarding Aventum?"}]},"frontmatter":{"title":"Email Confirmation Status"}}},"pageContext":{"slug":"/tutorial/blog/react/email-confirmation-status/","prev":{"fields":{"slug":"/tutorial/blog/react/login-page/"},"frontmatter":{"title":"Login Page"}},"next":{"fields":{"slug":"/tutorial/blog/react/email-confirmation/"},"frontmatter":{"title":"Email Confirmation"}}}},"staticQueryHashes":["681094712"]}